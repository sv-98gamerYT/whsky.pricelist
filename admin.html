<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8"/>
<meta name="viewport" content="width=device-width, initial-scale=1.0"/>
<title>Admin â€“ Tickets</title>
<style>
body{background:#0b0018;color:#fff;font-family:Segoe UI,Arial}
.container{max-width:900px;margin:auto;padding:24px}
.ticket{background:rgba(255,255,255,.08);padding:14px;border-radius:14px;margin-bottom:10px}
.btn{padding:6px 12px;border-radius:10px;border:none;cursor:pointer;font-weight:700}
.close{background:#ff4d4d;color:#000}
</style>
</head>
<body>
<div class="container">
<h2>ðŸŽŸ Ticket Panel</h2>
<div id="tickets"></div>
</div>

<script type="module">
import { initializeApp } from "https://www.gstatic.com/firebasejs/10.7.1/firebase-app.js";
import { getFirestore, collection, onSnapshot, updateDoc, doc } 
from "https://www.gstatic.com/firebasejs/10.7.1/firebase-firestore.js";

const FIREBASE_CONFIG = {
  apiKey: "YOUR_API_KEY",
  authDomain: "YOUR_DOMAIN",
  projectId: "YOUR_PROJECT_ID"
};

const app=initializeApp(FIREBASE_CONFIG);
const db=getFirestore(app);
const box=document.getElementById("tickets");

onSnapshot(collection(db,"tickets"),snap=>{
  box.innerHTML="";
  snap.forEach(d=>{
    const t=d.data();
    const div=document.createElement("div");
    div.className="ticket";
    div.innerHTML=`<b>${t.user}</b><br>${t.message}<br>Status: ${t.status}
    <br><button class="btn close">CLOSE</button>`;
    div.querySelector("button").onclick=()=>updateDoc(doc(db,"tickets",d.id),{status:"closed"});
    box.prepend(div);
  });
});
</script>
</body>
</html>
